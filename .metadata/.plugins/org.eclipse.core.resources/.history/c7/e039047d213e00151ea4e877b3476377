package pl.agropin.services;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

import daos.InvoicesDAO;
import database.DatabaseService;
import entities.Invoices;

@Path("/tableData")
public class DataTablesService {

	@GET
	@Produces(MediaType.APPLICATION_JSON)
	public String getTableData(String sessionId, String userName, String password) {

		InvoicesDAO invoices = new InvoicesDAO(new DatabaseService());
		Invoices invoicesByName = invoices.getInvoicesByName("Tokarz");
		
		if(invoicesByName == null)
		{
			invoicesByName = new Invoices();
			invoicesByName.setRokpod("2015");
			invoicesByName.setImieprac("Jan");
			invoicesByName.setNazwiskoprac("Kowalski");
			invoicesByName.setKwota(6.66);
		}
		
		String jsonBig = "{\"data\": ["
				  +       "{"
			+         	"\"select\": \"" + "false" + "\","
			  +         	"\"date\": \"" + invoicesByName.getRokpod() + "\","
			  +        		 "\"fname\": \"" + invoicesByName.getImieprac() + "\","
			  +       		  "\"lname\": \"" + invoicesByName.getNazwiskoprac() + "\","
			  +     		    "\"salary\": \"" + invoicesByName.getKwota() + "\""
			  +     	  "}"
			  +    	   "]}";

		return jsonBig;
	}

}


